# 深度思考记录2（关键疑问分析）
- 时间：2025-10-12 12:28
- 执行者：Codex
- 说明：依据 `.codex/context-scan.json` 的结果整理高优先级疑问。

## 已知
- 已掌握 Claude token 读写流程、UI 刷新方式与数据结构。
- `src/ui_floating.py` 已有账号表格、右键菜单、状态标签等组件。

## 关键疑问与优先级
1. [高] `C:\Users\28367.codex\auth.json` 的现有结构如何？是否包含多个 key、标记字段？
2. [高] UI 中应如何标记当前使用的 OpenAI key？沿用现有用户名前缀还是新增状态列？
3. [中] 是否需要与现有配置管理（`ConfigManager`）交互，或仅在 UI 层处理？
4. [中] 如果 `auth.json` 缺失或格式出错，界面要提示/恢复到什么状态？
5. [低] 是否存在与 OpenAI key 相关的其他模块需要同步更新（如 `config.json`）？

## 初步结论
- 需要先定位并解析 `auth.json` 文件样例，以便定义读写接口。
- UI 标记策略最好复用当前账户表格的高亮方式，保持体验一致。
- 读写异常处理需遵循现有 Claude 模式：日志 + QMessage 提示。
